{"ast":null,"code":"var _jsxFileName = \"C:\\\\Alexis\\\\Lista de tareas\\\\Test\\\\Test\\\\ClientApp\\\\src\\\\components\\\\TaskList.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport TareaFormulario from './TaskForm';\nimport Tarea from './Task';\nimport '../css/TaskList.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction ListaDeTareas() {\n  _s();\n\n  const [tareas, setTareas] = useState([]);\n\n  const traerTareas = async () => {\n    try {\n      const response = await fetch(\"api/Task/Index\");\n      const data = await response.json();\n      setTareas(data);\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  const agregarTarea = tarea => {\n    if (tarea.Texto.trim()) {\n      tarea.Texto = tarea.Texto.trim();\n      let TaskList = {\n        \"Id\": tarea.Id,\n        \"Texto\": tarea.Texto,\n        \"Completada\": tarea.Completada\n      };\n      fetch('api/Task/Create', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          task: TaskList\n        })\n      }).then(function (response) {\n        return response.json();\n      }).then(function (body) {\n        console.log(body);\n      });\n      const tareasActualizadas = [tarea, ...tareas];\n      setTareas(tareasActualizadas);\n    }\n  };\n\n  const eliminarTarea = id => {\n    const tareasActualizadas = tareas.filter(tarea => tarea.id !== id);\n    setTareas(tareasActualizadas);\n  };\n\n  const completarTarea = id => {\n    const tareasActualizadas = tareas.map(tarea => {\n      if (tarea.id === id) {\n        tarea.completada = !tarea.completada;\n      }\n\n      return tarea;\n    });\n    setTareas(tareasActualizadas);\n  };\n\n  useEffect(() => {\n    traerTareas();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(TareaFormulario, {\n      onSubmit: agregarTarea\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"tareas-lista-contenedor\",\n      children: tareas.map(tarea => /*#__PURE__*/_jsxDEV(Tarea, {\n        id: tarea.id,\n        texto: tarea.texto,\n        completada: tarea.completada,\n        completarTarea: completarTarea,\n        eliminarTarea: eliminarTarea\n      }, tarea.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 25\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n}\n\n_s(ListaDeTareas, \"JZ37RroqkD5G4jx2AuDQKHVz1nE=\");\n\n_c = ListaDeTareas;\nexport default ListaDeTareas;\n\nvar _c;\n\n$RefreshReg$(_c, \"ListaDeTareas\");","map":{"version":3,"names":["React","useState","useEffect","TareaFormulario","Tarea","ListaDeTareas","tareas","setTareas","traerTareas","response","fetch","data","json","error","console","agregarTarea","tarea","Texto","trim","TaskList","Id","Completada","method","headers","body","JSON","stringify","task","then","log","tareasActualizadas","eliminarTarea","id","filter","completarTarea","map","completada","texto"],"sources":["C:/Alexis/Lista de tareas/Test/Test/ClientApp/src/components/TaskList.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport TareaFormulario from './TaskForm';\r\nimport Tarea from './Task';\r\nimport '../css/TaskList.css';\r\n\r\n\r\nfunction ListaDeTareas() {\r\n\r\n    const [tareas, setTareas] = useState([]);\r\n\r\n    const traerTareas = async() => {\r\n        try {\r\n            const response = await fetch(\"api/Task/Index\");\r\n            const data = await response.json()\r\n            setTareas(data);\r\n        } catch (error) {\r\n            console.error(error);\r\n        }\r\n    }\r\n    const agregarTarea = tarea => {\r\n        if (tarea.Texto.trim()) {\r\n            tarea.Texto = tarea.Texto.trim();\r\n            let TaskList = { \"Id\": tarea.Id, \"Texto\": tarea.Texto, \"Completada\": tarea.Completada };\r\n            fetch('api/Task/Create', {\r\n                method: 'POST',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify({ task: TaskList })\r\n\r\n            }).then(function (response) {\r\n                return response.json()\r\n            }).then(function (body) {\r\n                console.log(body);\r\n                \r\n            });\r\n            const tareasActualizadas = [tarea, ...tareas];\r\n            setTareas(tareasActualizadas);\r\n        }\r\n    }\r\n\r\n    const eliminarTarea = id => {\r\n        const tareasActualizadas = tareas.filter(tarea => tarea.id !== id);\r\n        setTareas(tareasActualizadas);\r\n    }\r\n\r\n    const completarTarea = id => {\r\n        const tareasActualizadas = tareas.map(tarea => {\r\n            if (tarea.id === id) {\r\n                tarea.completada = !tarea.completada;\r\n            }\r\n            return tarea;\r\n        });\r\n        setTareas(tareasActualizadas);\r\n    }\r\n    useEffect(() => {\r\n        traerTareas();\r\n    }, []);\r\n\r\n    return (\r\n        <>\r\n            <TareaFormulario onSubmit={agregarTarea} />\r\n            <div className='tareas-lista-contenedor'>\r\n                {\r\n                    tareas.map((tarea) =>\r\n                        <Tarea\r\n                            key={tarea.id}\r\n                            id={tarea.id}\r\n                            texto={tarea.texto}\r\n                            completada={tarea.completada}\r\n                            completarTarea={completarTarea}\r\n                            eliminarTarea={eliminarTarea} />\r\n                    )\r\n                }\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n\r\n\r\n\r\n\r\nexport default ListaDeTareas;"],"mappings":"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"},"metadata":{},"sourceType":"module"}