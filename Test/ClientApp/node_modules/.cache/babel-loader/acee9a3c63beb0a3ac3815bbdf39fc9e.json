{"ast":null,"code":"var _jsxFileName = \"C:\\\\Alexis\\\\Lista de tareas\\\\Test\\\\Test\\\\ClientApp\\\\src\\\\components\\\\TaskList.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { ToastContainer } from \"react-toastr\";\nimport TaskForm from './TaskForm';\nimport Task from './Task';\nimport '../css/TaskList.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction TaskList() {\n  _s();\n\n  const [tasks, setTask] = useState([]);\n\n  const getTasks = async () => {\n    try {\n      const response = await fetch(\"api/Task/Index\");\n      const data = await response.json();\n      setTask(data);\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  const createTask = task => {\n    if (task.texto.trim()) {\n      task.texto = task.texto.trim();\n      var formdata = new FormData();\n      formdata.append(\"Texto\", task.texto);\n      var requestOptions = {\n        method: 'POST',\n        body: formdata,\n        redirect: 'follow'\n      };\n      fetch(\"api/Task/Create\", requestOptions).then(response => response.text()).then(result => getTasks()).catch(error => console.log('error', error));\n    }\n  };\n\n  const deleteTask = id => {\n    if (!confirm(\"Esta seguro que desea eliminar esta tarea\")) return;else {\n      fetch('api/Task/Delete/' + id, {\n        method: 'delete'\n      }).then(data => {\n        getTasks();\n        ToastContainer.container.success( /*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Tarea Eliminada con exito\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 21\n        }, this));\n      });\n    }\n  };\n\n  const completeTask = id => {\n    const taskEdit = tasks.find(tarea => tarea.id == id);\n\n    if (taskEdit.id === id) {\n      taskEdit.completada = !taskEdit.completada;\n    }\n\n    var formdata = new FormData();\n    formdata.append(\"Texto\", taskEdit.texto);\n    formdata.append(\"Completada\", taskEdit.completada);\n    formdata.append(\"Id\", taskEdit.id);\n    var requestOptions = {\n      method: 'Put',\n      body: formdata,\n      redirect: 'follow'\n    };\n    fetch(\"api/Task/Edit\", requestOptions).then(response => response.text()).then(result => {\n      const taskUpdate = [...tasks];\n      setTask(taskUpdate);\n    }).catch(error => console.log('error', error));\n  };\n\n  const taskEdit = id => {\n    tasks.filter(task => task.id === id).map(x => {\n      x.editar = true;\n    });\n    const taskUpdate = [...tasks];\n    setTask(taskUpdate);\n  };\n\n  const confirmEdit = (id, input) => {\n    const taskEdit = tasks.find(tarea => tarea.id == id);\n    var formdata = new FormData();\n    formdata.append(\"Texto\", input);\n    formdata.append(\"Completada\", taskEdit.completada);\n    formdata.append(\"Id\", taskEdit.id);\n    var requestOptions = {\n      method: 'Put',\n      body: formdata,\n      redirect: 'follow'\n    };\n    fetch(\"api/Task/Edit\", requestOptions).then(response => response.text()).then(result => getTasks()).catch(error => console.log('error', error));\n  };\n\n  const cancelEdit = () => {\n    tasks.filter(x => x.editar === true).map(task => task.editar = false);\n    const taskUpdate = [...tasks];\n    setTask(taskUpdate);\n  };\n\n  const searchTask = text => {\n    if (text !== \"\") {\n      const taskFilter = tasks.filter(x => x.texto.includes(text));\n      setTask(taskFilter);\n    } else {\n      getTasks();\n    }\n  };\n\n  useEffect(() => {\n    getTasks();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(TaskForm, {\n      onSubmit: createTask,\n      search: searchTask\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"task-list-container\",\n      children: tasks.map(task => /*#__PURE__*/_jsxDEV(Task, {\n        id: task.id,\n        texto: task.texto,\n        editar: task.editar == undefined ? false : task.editar,\n        completada: task.completada,\n        completeTask: completeTask,\n        deleteTask: deleteTask,\n        taskEdit: taskEdit,\n        confirmEdit: confirmEdit,\n        cancelEdit: cancelEdit\n      }, task.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 25\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n}\n\n_s(TaskList, \"Oalh7gGRly8nmy9ApEFAxF9qmMk=\");\n\n_c = TaskList;\nexport default TaskList;\n\nvar _c;\n\n$RefreshReg$(_c, \"TaskList\");","map":{"version":3,"names":["React","useState","useEffect","ToastContainer","TaskForm","Task","TaskList","tasks","setTask","getTasks","response","fetch","data","json","error","console","createTask","task","texto","trim","formdata","FormData","append","requestOptions","method","body","redirect","then","text","result","catch","log","deleteTask","id","confirm","container","success","completeTask","taskEdit","find","tarea","completada","taskUpdate","filter","map","x","editar","confirmEdit","input","cancelEdit","searchTask","taskFilter","includes","undefined"],"sources":["C:/Alexis/Lista de tareas/Test/Test/ClientApp/src/components/TaskList.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { ToastContainer } from \"react-toastr\";\r\nimport TaskForm from './TaskForm';\r\nimport Task from './Task';\r\nimport '../css/TaskList.css';\r\n\r\n\r\nfunction TaskList() {\r\n\r\n    const [tasks, setTask] = useState([]);\r\n    const getTasks = async () => {\r\n        try {\r\n            const response = await fetch(\"api/Task/Index\");\r\n            const data = await response.json();\r\n            setTask(data);\r\n        } catch (error) {\r\n            console.error(error);\r\n        }\r\n    }\r\n    const createTask = task => {\r\n        if (task.texto.trim()) {\r\n            task.texto = task.texto.trim();\r\n            var formdata = new FormData();\r\n            formdata.append(\"Texto\", task.texto);\r\n\r\n            var requestOptions = {\r\n                method: 'POST',\r\n                body: formdata,\r\n                redirect: 'follow'\r\n            };\r\n\r\n            fetch(\"api/Task/Create\", requestOptions)\r\n                .then(response => response.text())\r\n                .then(result => getTasks())\r\n                .catch(error => console.log('error', error));\r\n\r\n        }\r\n    }\r\n\r\n    const deleteTask = id => {\r\n        if (!confirm(\"Esta seguro que desea eliminar esta tarea\"))\r\n            return;\r\n        else {\r\n            fetch('api/Task/Delete/' + id, {\r\n                method: 'delete'\r\n            }).then(data => {\r\n                getTasks();\r\n                ToastContainer.container.success(\r\n                    <strong>Tarea Eliminada con exito</strong>\r\n                )\r\n            });\r\n        }\r\n    }\r\n\r\n    const completeTask = id => {\r\n        const taskEdit = tasks.find(tarea => tarea.id == id);\r\n        if (taskEdit.id === id) {\r\n            taskEdit.completada = !taskEdit.completada;\r\n        }\r\n\r\n        var formdata = new FormData();\r\n        formdata.append(\"Texto\", taskEdit.texto);\r\n        formdata.append(\"Completada\", taskEdit.completada);\r\n        formdata.append(\"Id\", taskEdit.id);\r\n        var requestOptions = {\r\n            method: 'Put',\r\n            body: formdata,\r\n            redirect: 'follow'\r\n        };\r\n\r\n        fetch(\"api/Task/Edit\", requestOptions)\r\n            .then(response => response.text())\r\n            .then(result => {\r\n                const taskUpdate = [...tasks];\r\n                setTask(taskUpdate);\r\n            })\r\n            .catch(error => console.log('error', error));\r\n\r\n    }\r\n    const taskEdit = id => {\r\n        tasks.filter(task=> task.id === id).map(x => {\r\n                x.editar = true;\r\n        })\r\n        const taskUpdate = [...tasks];\r\n        setTask(taskUpdate);\r\n    }\r\n    const confirmEdit = (id,input) => {\r\n        const taskEdit = tasks.find(tarea => tarea.id == id);\r\n\r\n        var formdata = new FormData();\r\n        formdata.append(\"Texto\", input);\r\n        formdata.append(\"Completada\", taskEdit.completada);\r\n        formdata.append(\"Id\", taskEdit.id);\r\n        var requestOptions = {\r\n            method: 'Put',\r\n            body: formdata,\r\n            redirect: 'follow'\r\n        };\r\n\r\n        fetch(\"api/Task/Edit\", requestOptions)\r\n            .then(response => response.text())\r\n            .then(result => getTasks())\r\n            .catch(error => console.log('error', error));\r\n\r\n    }\r\n    const cancelEdit = () => {\r\n        tasks.filter(x => x.editar === true).map(task => task.editar = false);\r\n        const taskUpdate = [...tasks];\r\n        setTask(taskUpdate);\r\n    }\r\n    const searchTask = text => {\r\n        if (text !== \"\") {\r\n            const taskFilter = tasks.filter(x => x.texto.includes(text))\r\n            setTask(taskFilter);\r\n        }\r\n        else {\r\n            getTasks();\r\n        }\r\n\r\n    }\r\n\r\n    useEffect(() => {\r\n        getTasks();\r\n    }, []);\r\n\r\n    return (\r\n        <>\r\n            <TaskForm onSubmit={createTask} search={searchTask} />\r\n            <div className='task-list-container'>\r\n                {\r\n                    tasks.map((task) =>\r\n                        <Task\r\n                            key={task.id}\r\n                            id={task.id}\r\n                            texto={task.texto}\r\n                            editar={task.editar == undefined ? false : task.editar}\r\n                            completada={task.completada}\r\n                            completeTask={completeTask}\r\n                            deleteTask={deleteTask}\r\n                            taskEdit={taskEdit}\r\n                            confirmEdit={confirmEdit}\r\n                            cancelEdit={cancelEdit}\r\n                        />\r\n                    )\r\n                }\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n\r\n\r\n\r\n\r\nexport default TaskList;"],"mappings":"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"},"metadata":{},"sourceType":"module"}