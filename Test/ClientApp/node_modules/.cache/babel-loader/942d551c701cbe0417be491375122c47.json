{"ast":null,"code":"var _jsxFileName = \"C:\\\\Alexis\\\\Lista de tareas\\\\Test\\\\Test\\\\ClientApp\\\\src\\\\components\\\\TaskList.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport TareaFormulario from './TaskForm';\nimport Tarea from './Task';\nimport '../css/TaskList.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction ListaDeTareas() {\n  _s();\n\n  const [tareas, setTareas] = useState([]);\n\n  const traerTareas = async () => {\n    try {\n      const response = await fetch(\"api/Task/Index\");\n      const data = await response.json();\n      setTareas(data);\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  const agregarTarea = tarea => {\n    if (tarea.texto.trim()) {\n      tarea.texto = tarea.texto.trim();\n      var formdata = new FormData();\n      formdata.append(\"Texto\", tarea.texto);\n      var requestOptions = {\n        method: 'POST',\n        body: formdata,\n        redirect: 'follow'\n      };\n      fetch(\"api/Task/Create\", requestOptions).then(response => response.text()).then(result => traerTareas()).catch(error => console.log('error', error));\n    }\n  };\n\n  const eliminarTarea = id => {\n    if (!confirm(\"Esta seguro que desea elimianr esta tarea\")) return;else {\n      fetch('api/Task/Delete/' + id, {\n        method: 'delete'\n      }).then(data => {\n        traerTareas();\n      });\n    }\n  };\n\n  const completarTarea = id => {\n    const tareaEditar = tareas.find(tarea => tarea.id == id);\n\n    if (tareaEditar.id === id) {\n      tareaEditar.completada = !tareaEditar.completada;\n    }\n\n    var formdata = new FormData();\n    formdata.append(\"Texto\", tareaEditar.texto);\n    formdata.append(\"Completada\", tareaEditar.completada);\n    formdata.append(\"Id\", tareaEditar.id);\n    var requestOptions = {\n      method: 'Put',\n      body: formdata,\n      redirect: 'follow'\n    };\n    fetch(\"api/Task/Edit\", requestOptions).then(response => response.text()).then(result => traerTareas()).catch(error => console.log('error', error));\n  };\n\n  const editarTarea = id => {\n    tareas.map(x => {\n      if (x.id == id) {\n        x.editar = true;\n      }\n    });\n    const tareasActualizadas = [...tareas];\n    setTareas(tareasActualizadas);\n  };\n\n  const confirmarEditar = id => {\n    const tareaEditar = tareas.find(tarea => tarea.id == id);\n\n    if (tareaEditar.id === id) {\n      tareaEditar.completada = !tareaEditar.completada;\n    }\n\n    var formdata = new FormData();\n    formdata.append(\"Texto\", tareaEditar.texto);\n    formdata.append(\"Completada\", tareaEditar.completada);\n    formdata.append(\"Id\", tareaEditar.id);\n    var requestOptions = {\n      method: 'Put',\n      body: formdata,\n      redirect: 'follow'\n    };\n    fetch(\"api/Task/Edit\", requestOptions).then(response => response.text()).then(result => traerTareas()).catch(error => console.log('error', error));\n  };\n\n  const cancelarEditar = () => {\n    const tareasActualizadas = [...tareas];\n    setTareas(tareasActualizadas);\n  };\n\n  const buscarTarea = text => {\n    if (text !== \"\") {\n      const tareasFiltradas = tareas.filter(x => x.texto.includes(text));\n      setTareas(tareasFiltradas);\n    } else {\n      traerTareas();\n    }\n  };\n\n  useEffect(() => {\n    traerTareas();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(TareaFormulario, {\n      onSubmit: agregarTarea,\n      buscar: buscarTarea\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"tareas-lista-contenedor\",\n      children: tareas.map(tarea => /*#__PURE__*/_jsxDEV(Tarea, {\n        id: tarea.id,\n        texto: tarea.texto,\n        editar: tarea.editar == undefined ? false : tarea.editar,\n        completada: tarea.completada,\n        completarTarea: completarTarea,\n        eliminarTarea: eliminarTarea,\n        editarTarea: editarTarea,\n        confirmarEditar: confirmarEditar,\n        cancelarEditar: cancelarEditar\n      }, tarea.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 25\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n}\n\n_s(ListaDeTareas, \"JZ37RroqkD5G4jx2AuDQKHVz1nE=\");\n\n_c = ListaDeTareas;\nexport default ListaDeTareas;\n\nvar _c;\n\n$RefreshReg$(_c, \"ListaDeTareas\");","map":{"version":3,"names":["React","useState","useEffect","TareaFormulario","Tarea","ListaDeTareas","tareas","setTareas","traerTareas","response","fetch","data","json","error","console","agregarTarea","tarea","texto","trim","formdata","FormData","append","requestOptions","method","body","redirect","then","text","result","catch","log","eliminarTarea","id","confirm","completarTarea","tareaEditar","find","completada","editarTarea","map","x","editar","tareasActualizadas","confirmarEditar","cancelarEditar","buscarTarea","tareasFiltradas","filter","includes","undefined"],"sources":["C:/Alexis/Lista de tareas/Test/Test/ClientApp/src/components/TaskList.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport TareaFormulario from './TaskForm';\r\nimport Tarea from './Task';\r\nimport '../css/TaskList.css';\r\n\r\n\r\nfunction ListaDeTareas() {\r\n\r\n    const [tareas, setTareas] = useState([]);\r\n    const traerTareas = async () => {\r\n        try {\r\n            const response = await fetch(\"api/Task/Index\");\r\n            const data = await response.json();\r\n            setTareas(data);\r\n        } catch (error) {\r\n            console.error(error);\r\n        }\r\n    }\r\n    const agregarTarea = tarea => {\r\n        if (tarea.texto.trim()) {\r\n            tarea.texto = tarea.texto.trim();\r\n            var formdata = new FormData();\r\n            formdata.append(\"Texto\", tarea.texto);\r\n\r\n            var requestOptions = {\r\n                method: 'POST',\r\n                body: formdata,\r\n                redirect: 'follow'\r\n            };\r\n\r\n            fetch(\"api/Task/Create\", requestOptions)\r\n                .then(response => response.text())\r\n                .then(result => traerTareas())\r\n                .catch(error => console.log('error', error));\r\n\r\n        }\r\n    }\r\n\r\n    const eliminarTarea = id => {\r\n        if (!confirm(\"Esta seguro que desea elimianr esta tarea\"))\r\n            return;\r\n        else {\r\n            fetch('api/Task/Delete/' + id, {\r\n                method: 'delete'\r\n            }).then(data => {\r\n                traerTareas();\r\n            });\r\n        }\r\n    }\r\n\r\n    const completarTarea = id => {\r\n        const tareaEditar = tareas.find(tarea => tarea.id == id);\r\n        if (tareaEditar.id === id) {\r\n            tareaEditar.completada = !tareaEditar.completada;\r\n        }\r\n\r\n        var formdata = new FormData();\r\n        formdata.append(\"Texto\", tareaEditar.texto);\r\n        formdata.append(\"Completada\", tareaEditar.completada);\r\n        formdata.append(\"Id\", tareaEditar.id);\r\n        var requestOptions = {\r\n            method: 'Put',\r\n            body: formdata,\r\n            redirect: 'follow'\r\n        };\r\n\r\n        fetch(\"api/Task/Edit\", requestOptions)\r\n            .then(response => response.text())\r\n            .then(result => traerTareas())\r\n            .catch(error => console.log('error', error));\r\n\r\n    }\r\n    const editarTarea = id => {\r\n        tareas.map(x => {\r\n            if (x.id == id) {\r\n                x.editar = true;\r\n            }\r\n            \r\n        })\r\n        const tareasActualizadas = [...tareas];\r\n        setTareas(tareasActualizadas);\r\n    }\r\n    const confirmarEditar = id => {\r\n        const tareaEditar = tareas.find(tarea => tarea.id == id);\r\n        if (tareaEditar.id === id) {\r\n            tareaEditar.completada = !tareaEditar.completada;\r\n        }\r\n\r\n        var formdata = new FormData();\r\n        formdata.append(\"Texto\", tareaEditar.texto);\r\n        formdata.append(\"Completada\", tareaEditar.completada);\r\n        formdata.append(\"Id\", tareaEditar.id);\r\n        var requestOptions = {\r\n            method: 'Put',\r\n            body: formdata,\r\n            redirect: 'follow'\r\n        };\r\n\r\n        fetch(\"api/Task/Edit\", requestOptions)\r\n            .then(response => response.text())\r\n            .then(result => traerTareas())\r\n            .catch(error => console.log('error', error));\r\n\r\n    }\r\n    const cancelarEditar = () => {\r\n        const tareasActualizadas = [...tareas];\r\n        setTareas(tareasActualizadas);\r\n    }\r\n    const buscarTarea = text => {\r\n        if (text !== \"\") {\r\n            const tareasFiltradas = tareas.filter(x => x.texto.includes(text))\r\n            setTareas(tareasFiltradas);\r\n        }\r\n        else {\r\n            traerTareas();\r\n        }\r\n\r\n    }\r\n\r\n    useEffect(() => {\r\n        traerTareas();\r\n    }, []);\r\n\r\n    return (\r\n        <>\r\n            <TareaFormulario onSubmit={agregarTarea} buscar={buscarTarea} />\r\n            <div className='tareas-lista-contenedor'>\r\n                {\r\n                    tareas.map((tarea) =>\r\n                        <Tarea\r\n                            key={tarea.id}\r\n                            id={tarea.id}\r\n                            texto={tarea.texto}\r\n                            editar={tarea.editar == undefined ? false : tarea.editar}\r\n                            completada={tarea.completada}\r\n                            completarTarea={completarTarea}\r\n                            eliminarTarea={eliminarTarea}\r\n                            editarTarea={editarTarea}\r\n                            confirmarEditar={confirmarEditar}\r\n                            cancelarEditar={cancelarEditar}\r\n                        />\r\n                    )\r\n                }\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n\r\n\r\n\r\n\r\nexport default ListaDeTareas;"],"mappings":"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"},"metadata":{},"sourceType":"module"}